
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Kittn API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1327c109.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#nfts" class="toc-h1 toc-link" data-title="NFTs">NFTs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-nfts-optionally-with-filters" class="toc-h2 toc-link" data-title="Get NFTs (optionally with filters)">Get NFTs (optionally with filters)</a>
                  </li>
                  <li>
                    <a href="#search-nfts" class="toc-h2 toc-link" data-title="Search NFTs">Search NFTs</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-nft" class="toc-h2 toc-link" data-title="Get a specific NFT">Get a specific NFT</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#categories" class="toc-h1 toc-link" data-title="Categories">Categories</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-categories" class="toc-h2 toc-link" data-title="Get all categories">Get all categories</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users-auth" class="toc-h1 toc-link" data-title="Users auth">Users auth</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-account" class="toc-h2 toc-link" data-title="Create account">Create account</a>
                  </li>
                  <li>
                    <a href="#login" class="toc-h2 toc-link" data-title="Login">Login</a>
                  </li>
                  <li>
                    <a href="#logged-in-user" class="toc-h2 toc-link" data-title="Logged in user">Logged in user</a>
                  </li>
                  <li>
                    <a href="#logout" class="toc-h2 toc-link" data-title="Logout">Logout</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-profile" class="toc-h1 toc-link" data-title="User profile">User profile</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-profile" class="toc-h2 toc-link" data-title="Get profile">Get profile</a>
                  </li>
                  <li>
                    <a href="#edit-profile" class="toc-h2 toc-link" data-title="Edit profile">Edit profile</a>
                  </li>
                  <li>
                    <a href="#check-validity-of-username-edit" class="toc-h2 toc-link" data-title="Check validity of username edit">Check validity of username edit</a>
                  </li>
                  <li>
                    <a href="#top-buyers" class="toc-h2 toc-link" data-title="Top buyers">Top buyers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cart" class="toc-h1 toc-link" data-title="Cart">Cart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-nfts-in-the-cart" class="toc-h2 toc-link" data-title="List NFTs in the cart">List NFTs in the cart</a>
                  </li>
                  <li>
                    <a href="#add-nft" class="toc-h2 toc-link" data-title="Add NFT">Add NFT</a>
                  </li>
                  <li>
                    <a href="#remove-nft" class="toc-h2 toc-link" data-title="Remove NFT">Remove NFT</a>
                  </li>
                  <li>
                    <a href="#checkout-cart" class="toc-h2 toc-link" data-title="Checkout cart">Checkout cart</a>
                  </li>
                  <li>
                    <a href="#nft-ownership-status" class="toc-h2 toc-link" data-title="Nft Ownership status">Nft Ownership status</a>
                  </li>
                  <li>
                    <a href="#checkout-cart-2" class="toc-h2 toc-link" data-title="Checkout cart">Checkout cart</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Kanvas API specs!</p>

<p>The API examples use <a href="https://httpie.io/">http</a>, basically cURL but a bit easier to use.</p>
<h1 id='authentication'>Authentication</h1>
<p>Endpoints that require a logged in user expect a valid token in the Authorization header. To get new a token, call <code>/auth/login</code>.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Login, and get an access token:</span>
http POST <span class="s2">"/auth/login"</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
{
    "userAddress": "</span><span class="nv">$user_address</span><span class="sh">",
    "signedPayload": "</span><span class="nv">$user_password</span><span class="sh">",
}
</span><span class="no">EOF
</span></code></pre></div>
<blockquote>
<p>To authorize at authorization guarded endpoints, eg <code>/auth/logged_in</code>, set the &quot;Authorization&quot; header alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET <span class="s2">"/auth/logged_in"</span> <span class="se">\</span>
  Authorization:<span class="s2">"Bearer </span><span class="nv">$access_token</span><span class="s2">"</span>
</code></pre></div>
<blockquote>
<p>Make sure to replace <code>$access_token</code> with your token.</p>
</blockquote>

<aside class="notice">
You must replace <code>$access_token</code> with your personal API key.
</aside>

<p>For more info see the &quot;Users auth&quot; section.</p>
<h1 id='nfts'>NFTs</h1><h2 id='get-nfts-optionally-with-filters'>Get NFTs (optionally with filters)</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/nfts"</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"currentPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"numberOfPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowerPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.12"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upperPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"105.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nfts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"artifactUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.amazonaws.com/NFT_FILE__6_image.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not actually visual"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Applied Art"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1645710471</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nice for breakfast"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.amazonaws.com/NFT_FILE__6_image.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"editionsAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"editionsSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ipfsHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ipfs://QmQx1zaVfbXk1JfPGhHo3pRaBgcHBzsHC1EVzXEkG2k1rz"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"launchAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1645743600</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"baguette"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.68"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thumbnailUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.eu-central-1.amazonaws.com/NFT_FILE__6_thumbnail.png"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Results are paginated.</p>

<p>Optionally, a set of filters can be specified. NFTs can be filtered by: <code>categories</code>, <code>userAddress</code>, <code>priceAtLeast</code>, <code>priceAtMost</code>, <code>availability</code> (for more info see the <code>Query parameters</code> section below).</p>

<p>For each filter, if not specified, it&#39;s not applied (so, for example, if no availability is specified, NFTs of all availability status&#39; are returned).</p>

<p>If multiple filters are specified, NFTs that fit each criteria are returned (AND logic, not OR).</p>

<p>The return includes additional general info:</p>

<ul>
<li><code>currentPage</code> (simply reflects the requested <code>page</code>)</li>
<li><code>numberOfPages</code> (takes into account the selected filters and <code>pageSize</code>)</li>
<li><code>lowerPriceBound</code> and <code>upperPriceBound</code> (takes into account the selected filters, except for the price filters)</li>
</ul>

<p>Note: <code>ipfsHash</code> may be <code>null</code> in the response. It&#39;s only set (not <code>null</code>) for NFTs that have already been purchased at least once. We do this to allow remaining uncommitted to the existence of an NFT for as long as possible. This would be useful in case for some reason an NFT no longer is deemed appropriate and should be delisted. Delisting is always possible, in the sense of blacklisting it from the store, however once the IPFS hash is shared and the NFT is minted on the blockchain, it is no longer possible to erase the NFT entirely.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /nfts</code></p>
<h3 id='http-request-with-some-filters-set'>HTTP Request (with some filters set)</h3>
<p><code>GET /nfts?userAddress=tz1..&amp;availability=onSale,upcoming</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>Paginate through results, first page is 1</td>
</tr>
<tr>
<td>pageSize</td>
<td>10</td>
<td>Number of NFTs to fit on a single page</td>
</tr>
<tr>
<td>orderBy</td>
<td>&#39;id&#39;</td>
<td>must be one of [&#39;id&#39;, &#39;createdAt&#39;, &#39;price&#39;, &#39;name&#39;, &#39;views&#39;].</td>
</tr>
<tr>
<td>orderDirection</td>
<td>&#39;asc&#39;</td>
<td>must be one of [&#39;asc&#39;, &#39;desc&#39;].</td>
</tr>
<tr>
<td>categories</td>
<td>undefined</td>
<td>Get NFTs that belong to any of a comma separated set of category identifiers (eg: <code>1,4,10</code>). Multiple entries here means: find NFTs that belong to at least one of the given categories.</td>
</tr>
<tr>
<td>userAddress</td>
<td>undefined</td>
<td>Get NFTs that are owned by some tezos address.</td>
</tr>
<tr>
<td>availability</td>
<td>undefined</td>
<td>Comma separated enable-list of availability status (each entry being one of <code>&#39;onSale&#39;,&#39;soldOut&#39;,&#39;upcoming&#39;</code>). Multiple entries means find NFTs that belong to one of the entries.</td>
</tr>
<tr>
<td>priceAtLeast</td>
<td>undefined</td>
<td>Get NFTs that at least cost <code>x</code> amount (<code>x</code> is inclusive).</td>
</tr>
<tr>
<td>priceAtMost</td>
<td>undefined</td>
<td>Get NFTs that at most cost <code>x</code> amount (<code>x</code> is inclusive).</td>
</tr>
<tr>
<td>firstRequestAt</td>
<td>undefined</td>
<td>In seconds since UNIX, the timestamp of first pagination action (note: responsibility of setting this is at the caller). If set, only NFTs will be returned that were listed on the store at or before this timestamp.</td>
</tr>
<tr>
<td>currency</td>
<td>EUR</td>
<td>Specify on which currency the price is returned. Options: USD, GBP, EUR, XTZ.</td>
</tr>
</tbody></table>
<h2 id='search-nfts'>Search NFTs</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/nfts/search"</span> <span class="nv">searchString</span><span class="o">==</span><span class="s1">'rock'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rock n roll"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"guitar music"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"nfts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"nfts"</span><span class="err">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"artifactUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.amazonaws.com/NFT_FILE__54_image.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sub photography category"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Abstract"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1653314947</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing nft end date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.amazonaws.com/NFT_FILE__54_image.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"editionsAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
            </span><span class="nl">"editionsSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ipfsHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ipfs://QmUVVgxmjpBt6SF8pNJZRNJiqy5nczL9xN8jiNJkTDApGW"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"launchAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nft with end date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"onsaleUntil"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662019200</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13.00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thumbnailUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.eu-central-1.amazonaws.com/NFT_FILE__54_thumbnail.png"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre></div>
<p>This searches for:</p>

<ul>
<li>NFTs by name and description</li>
<li>For categories by name</li>
</ul>

<p>Currently returns a maximum of 3 NFTs and a maximum of 5 categories, sorted by most relevant first.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /nfts/search</code></p>
<h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>searchString</td>
<td>The text to search for</td>
</tr>
</tbody></table>
<h2 id='get-a-specific-nft'>Get a specific NFT</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/nfts/2"</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"artifactUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.eu-central-1.amazonaws.com/NFT_FILE__39_image.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sub photography category"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black &amp; White"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1649094886</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oldschool"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"displayUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.eu-central-1.amazonaws.com/NFT_FILE__39_image.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"editionsAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"editionsSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ipfsHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ipfs://QmYdeHrRH1K6PKP5rmie5KYCHePJYXjn2CGauP5FJWnj2i"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launchAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"typewriter"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.04"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thumbnailUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kanvas-admin-files.s3.eu-central-1.amazonaws.com/NFT_FILE__39_thumbnail.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note: this is a POST, not a GET, because on each call we increment a &quot;views&quot; count. This is then used to allow for sorting <code>/nfts</code> on number of views.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /nfts/:id</code></p>
<h3 id='url-parameters'>URL parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The id of the NFT to retrieve</td>
</tr>
</tbody></table>
<h1 id='categories'>Categories</h1><h2 id='get-all-categories'>Get all categories</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/categories"</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"its part of rock"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nirvana"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"its part of a mountain"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rock"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"steep hills that go heigh"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mountains"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"its not actually blue"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"water"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /categories</code></p>
<h1 id='users-auth'>Users auth</h1><h2 id='create-account'>Create account</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/auth/register"</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
{
    "userAddress": "</span><span class="nv">$user_address</span><span class="sh">",
    "signedPayload": "</span><span class="nv">$user_password</span><span class="sh">"
}
</span><span class="no">EOF
</span></code></pre></div><h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /auth/register</code></p>
<h3 id='body-parameters'>Body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userAddress</td>
<td>tezos address</td>
</tr>
<tr>
<td>signedPayload</td>
<td>password</td>
</tr>
<tr>
<td>userName</td>
<td>username (currently it&#39;s optional)</td>
</tr>
</tbody></table>
<h2 id='login'>Login</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/auth/login"</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
{
    "userAddress": "</span><span class="nv">$user_address</span><span class="sh">",
    "signedPayload": "</span><span class="nv">$user_password</span><span class="sh">"
}
</span><span class="no">EOF
</span></code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"addr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxAge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86400000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibmFtZSI6bnVsbCwiYWRkcmVzcyI6ImFkZHIiLCJyb2xlcyI6W10sImlhdCI6MTYzNzI0ODM5Nn0.HovGQYf8QaVh0ZEdLhYBzBYqqYTrH34j6MUDBw8Bb2M"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The &quot;token&quot; in the response is a JWT, it&#39;s the token that can be passed to any endpoints that require authorization by setting the &quot;Authorization&quot; header to &quot;Bearer $token&quot;.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /auth/login</code></p>
<h3 id='body-parameters-2'>Body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userAddress</td>
<td>tezos address</td>
</tr>
<tr>
<td>signedPayload</td>
<td>password</td>
</tr>
</tbody></table>
<h2 id='logged-in-user'>Logged in user</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/auth/logged_user"</span> Authorization:<span class="s2">"Bearer </span><span class="nv">$access_token</span><span class="s2">"</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"utan_second-hand_10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tz2D1s4VvB8HU8YrYGjKQJ3zXxiJw6QHyZQa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1645716097</span><span class="p">,</span><span class="w">
    </span><span class="nl">"profilePicture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /auth/logged_user</code></p>
<h2 id='logout'>Logout</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/auth/Logout"</span> Authorization:<span class="s2">"Bearer </span><span class="nv">$access_token</span><span class="s2">"</span>
</code></pre></div><h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST /auth/logout</code></p>
<h1 id='user-profile'>User profile</h1><h2 id='get-profile'>Get profile</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/users/profile"</span> <span class="nv">userAddress</span><span class="o">==</span>tz1
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"nftCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1638452668</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profilePicture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://some-url (eg may be AWS S3 hosted)"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tz1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test user"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET /users/profile</code></p>
<h3 id='query-parameters-3'>Query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userAddress</td>
<td>tezos address (optional, if undefined the endpoint returns currently logged in user if logged in).</td>
</tr>
</tbody></table>
<h2 id='edit-profile'>Edit profile</h2>
<p>Edit:</p>

<ul>
<li>username (leave undefined if not to be changed)</li>
<li>profile picture (leave undefined if not to be changed)</li>
</ul>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="nt">-f</span> POST <span class="s2">"/users/profile/edit"</span> profilePicture@./tg_image_775116946.jpeg <span class="nv">userName</span><span class="o">=</span><span class="nb">test</span>
</code></pre></div>
<blockquote>
<p>The above command only returns the status code (201 on success), no body</p>
</blockquote>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST /users/profile/edit (form, content-type: multipart/form-data)</code></p>
<h3 id='body-parameters-3'>Body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>change username</td>
</tr>
</tbody></table>
<h2 id='check-validity-of-username-edit'>Check validity of username edit</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/users/profile/edit/check"</span> <span class="nv">userName</span><span class="o">==</span><span class="nb">test</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note: must be logged in.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET /users/profile/edit/check</code></p>
<h3 id='query-parameters-4'>Query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>username to check availability for</td>
</tr>
</tbody></table>
<h2 id='top-buyers'>Top buyers</h2>
<p>Get the list of top buyers.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http <span class="s2">"/users/topBuyers"</span>
</code></pre></div>
<blockquote>
<p>The above command only returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "topBuyers": [
        {
            "totalPaid": "3019.91",
            "userAddress": "tz1g3coajkc9N77XDy55pVEgBGWspQfYqMiH",
            "userId": 1,
            "userName": "Setter_agitated_17",
            "userPicture": null
        },
        {
            "totalPaid": "1019.84",
            "userAddress": "tz2D1s4VvB8HU8YrYGjKQJ3zXxiJw6QHyZQa",
            "userId": 3,
            "userName": "utan_second-hand_10",
            "userPicture": null
        },
        {
            "totalPaid": "25.00",
            "userAddress": "tz1WWcuiKUN4Ed5zouETqr7MbVzd3vkC4ubr",
            "userId": 16,
            "userName": "Rattlesnake_naive_7",
            "userPicture": null
        },
        ...
    ]
}
</code></pre></div><h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST /users/profile/edit (form, content-type: multipart/form-data)</code></p>
<h1 id='cart'>Cart</h1>
<p>All endpoints related to shopping cart management.</p>

<p>A cart session is either derived from the cookie session (when not logged in)
or from the cart session that is connected to the logged in user. When logging
in after having done some cart operations on the cookie session, the user is
connected to the cookie based cart session (and if the user was already
connected to another cart session, this other session is canceled).</p>

<p>The only cart related endpoint that requires being logged in is the checkout endpoint.</p>

<p>Every cart session has an expiration date. In our demo deployments this is 30
minutes after the last POST action (add, remove, list), but this can be set to
whichever duration, determined by an environment variable.</p>
<h2 id='list-nfts-in-the-cart'>List NFTs in the cart</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/users/cart/list"</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured alike:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-18T14:29:59.403Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nfts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SomeNFT"</span><span class="p">,</span><span class="w">
            </span><span class="err">...</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST /users/cart/list</code></p>
<h2 id='add-nft'>Add NFT</h2>
<p>Note, this may fail if</p>

<ul>
<li>This NFT is not for sale (eg it&#39;s already sold out, or it&#39;s not yet released)</li>
<li>All remaining editions of this NFT are already in other active carts</li>
<li>This NFT is already in the active cart (currently we only allow 1 edition per NFT per active cart)</li>
</ul>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/users/cart/add/2"</span>
</code></pre></div><h3 id='http-request-14'>HTTP Request</h3>
<p><code>POST /users/cart/add/:id</code></p>
<h3 id='url-parameters-2'>URL parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The id of the NFT to add to the cart</td>
</tr>
</tbody></table>
<h2 id='remove-nft'>Remove NFT</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/users/cart/remove/2"</span>
</code></pre></div><h3 id='http-request-15'>HTTP Request</h3>
<p><code>POST /users/cart/remove/:id</code></p>
<h3 id='url-parameters-3'>URL parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The id of the NFT to remove from the cart</td>
</tr>
</tbody></table>
<h2 id='checkout-cart'>Checkout cart</h2>
<p>Checking out the cart involves creating a payment intent, which then has to be
met (finalized) in the frontend application. For example, if paying with Stripe,
the payment intent has to be finalized by applying Stripe&#39;s SDK in the frontend.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/payment/create-payment-intent"</span> Authorization:<span class="s2">"Bearer </span><span class="nv">$access_token</span><span class="s2">"</span>
</code></pre></div><h3 id='http-request-16'>HTTP Request</h3>
<p><code>POST /payment/create-payment-intent</code></p>
<h2 id='nft-ownership-status'>Nft Ownership status</h2>
<p>This endpoint is used to find out after having finished payment whether the
purchased NFTs have arrived to the user&#39;s wallet onchain or if this process is
still pending.</p>

<p>Note that a user can own multiple editions of a single NFT (though limited by 1
edition per NFT per cart, users can own multiple editions regardless either through multiple payments
or through onchain transfers). Therefore this endpoint returns per requested nftId
a list of ownerships, eg if someone already fully owns nftId 1, and then purchases again nftId 1,
until the latter purchase has been processed onchain the response for this nftId will be: <code>{ nftId: &quot;37&quot;, ownerStatuses: [&quot;owned&quot;, &quot;pending&quot;] }</code>.</p>
<div class="highlight"><pre class="highlight plaintext"><code>
```shell
http POST /users/nftOwnership
</code></pre></div>
<p>Example response is alike:
<code>
[
    {
        nftId: &quot;37&quot;,
        ownerStatuses: [&quot;owned&quot;, &quot;pending&quot;]
    }
]
</code></p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>POST /users/nftOwnership?nftIds=5,10,..</code></p>
<h3 id='url-parameters-4'>URL parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nftIds</td>
<td>A comma separated list of nft IDs to check the status of</td>
</tr>
</tbody></table>
<h2 id='checkout-cart-2'>Checkout cart</h2>
<p>Checking out the cart involves creating a payment intent, which then has to be
met (finalized) in the frontend application. For example, if paying with Stripe,
the payment intent has to be finalized by applying Stripe&#39;s SDK in the frontend.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST <span class="s2">"/payment/create-payment-intent"</span> Authorization:<span class="s2">"Bearer </span><span class="nv">$access_token</span><span class="s2">"</span>
</code></pre></div>
<p>Response is alike:
<code>
{
    &quot;amount&quot;: &quot;0.66&quot;,
    &quot;currency&quot;: &quot;EUR&quot;,
    &quot;clientSecret&quot;: &quot;pi_3L2foUEdRDZNp7JF0yajTKrM_secret_cs3SWGJy7xdd5M19EwShCjbdE&quot;,
    &quot;id&quot;: &quot;pi_3L2foUEdRDZNp7JF0yajTKrM&quot;
}
</code></p>

<p>The &quot;clientSecret&quot; here is the important piece that links the following
finalization of the payment with the newly created payment intent.</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>POST /payment/create-payment-intent</code></p>
<h1 id='errors'>Errors</h1>
<p>-</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
